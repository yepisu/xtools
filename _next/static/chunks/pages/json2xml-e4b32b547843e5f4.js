(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3302],{11995:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/json2xml",function(){return t(33792)}])},31831:function(e,n,t){"use strict";var l=t(85893),i=t(67294),o=t(95982),s=t(13029),r=t(46901),c=t(20745),d=t(2734);let a=i.forwardRef(function(e,n){return(0,l.jsx)(r.Z,{elevation:6,ref:n,variant:"filled",...e})});function u(e){var n;let t=(0,d.Z)(),[r,c]=(0,i.useState)(!0);return(0,i.useEffect)(()=>{setTimeout(()=>{c(!1)},2e3)},[]),(0,l.jsx)(s.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:r,sx:{zIndex:t.zIndex.snackbar+100},children:(0,l.jsx)(a,{sx:{borderRadius:"0","&.MuiAlert-filledSuccess":{backgroundColor:o.T$}},icon:!1,color:null==e?void 0:e.color,children:null!==(n=null==e?void 0:e.content)&&void 0!==n?n:""})},"top-center-warning")}function x(e){let n=document.createElement("div");document.body.appendChild(n),n.id="warning-window",n.style.zIndex="-2",(0,c.createRoot)(n).render((0,l.jsx)(u,{...e})),setTimeout(()=>{n.remove()},3e3)}n.Z={success:e=>x({color:"success",content:e}),warning:e=>x({color:"warning",content:e}),error:e=>x({color:"error",content:e})}},43197:function(e,n,t){"use strict";var l=t(85893),i=t(70671),o=t(88613),s=t(47023),r=t(37375),c=t(55343),d=t(51233),a=t(5616),u=t(15861),x=t(25662),m=t(67294);n.Z=e=>{let{children:n,sx:t,fullScreen:p=!0}=e,{path:h}=(0,o.hI)(),[f]=m.useState(r.Z.find(e=>e.path===h));return(0,m.useEffect)(()=>{let e=e=>{if(!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)){let e=document.getElementById("fullscreen-element"),n=document.getElementById("rivers-header");e&&(e.style.position="unset",e.style.inset="0",e.style.maxWidth="unset",e.style.padding="0",n&&(n.style.display="block"))}};return document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)}},[]),(0,l.jsxs)(d.Z,{sx:{px:"50px",py:2,overflow:"auto",flex:1,borderRadius:"8px",background:"#fff",boxShadow:"0px 0px 2px 0px rgba(145,158,171,0.2), 0px 12px 24px -4px rgba(145,158,171,0.12)",...t},children:[(0,l.jsxs)(d.Z,{direction:"row",justifyContent:"space-between",children:[(0,l.jsx)(a.Z,{children:(0,l.jsx)(u.Z,{sx:{mb:"0px",fontWeight:600,color:i.Z2,fontSize:"20px"},gutterBottom:!0,variant:"subtitle1",component:"div",children:null==f?void 0:f.label})}),(0,l.jsx)(d.Z,{direction:"row",sx:{fontFamily:"Mono"},children:s.i.filter(e=>null==f?void 0:f.tags.includes(e.name)).map(e=>(0,l.jsx)(a.Z,{sx:{height:"24px",lineHeight:"24px",fontSize:"12px",background:"rgba(52,90,255,0.1)",color:"#345AFF",px:1,borderRadius:1,ml:1},children:e.label},e.name))})]}),(0,l.jsxs)(d.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{position:"relative",width:"100%",alignSelf:"stretch",mb:"24px"},children:[(0,l.jsx)(u.Z,{variant:"caption",sx:{display:"inline-block",maxWidth:"100%",pl:"6px",color:"rgba(11,37,98,0.5)",background:"rgba(11,37,98,0.04)",borderRadius:1,lineHeight:"24px"},children:null==f?void 0:f.subTitle}),p?(0,l.jsx)(x.Z,{size:"small",onClick:()=>{let e=document.body;new Promise(n=>{(null==e?void 0:e.requestFullscreen)?n(e.requestFullscreen()):(null==e?void 0:e.mozRequestFullScreen)?n(null==e?void 0:e.mozRequestFullScreen()):(null==e?void 0:e.webkitRequestFullscreen)?n(null==e?void 0:e.webkitRequestFullscreen()):(null==e?void 0:e.msRequestFullscreen)&&n(null==e?void 0:e.msRequestFullscreen())}).then(()=>{let e=document.getElementById("fullscreen-element"),n=document.getElementById("rivers-header");e&&(e.style.position="fixed",e.style.inset="0",e.style.maxWidth="100vw",e.style.background="#fff",e.style.padding="84px 14px 14px 14px",n&&(n.style.display="none"))})},sx:{borderRadius:"4px",height:"24px"},variant:"outlined",startIcon:(0,l.jsx)(c.Z,{}),children:"全屏"}):null]}),(0,l.jsx)(d.Z,{id:"fullscreen-element",sx:{gap:"18px",maxWidth:"1020px",fontFamily:"Mono",mx:"auto",flex:1,width:"100%"},children:n})]})}},33792:function(e,n,t){"use strict";t.r(n);var l,i,o,s,r,c,d,a,u,x,m,p,h=t(85893),f=t(43197),g=t(31831),b=t(5616),j=t(51233),y=t(25662),v=t(67294),w=t(74981),Z=t(68503),S=t(74855),k=t(5055);t(82679),t(42270),t(90252),t(13202),(l=d||(d={}))[l.A2B=1]="A2B",l[l.B2A=2]="B2A",(i=a||(a={})).A2B="application/json",i.B2A="application/xml",(o=u||(u={})).A2B="jsontoxml",o.B2A="xmltojson",(s=x||(x={})).A2B="JSON",s.B2A="XML",(r=m||(m={})).A2B=".json",r.B2A=".xml",(c=p||(p={})).A2B="json",c.B2A="xml",n.default=()=>{let[e,n]=(0,v.useState)(""),[t,l]=(0,v.useState)(""),[i,o]=(0,v.useState)(1),[s,r]=(0,v.useState)(""),c=async e=>{try{let n=new k.Builder().buildObject(JSON.parse(e));l(n)}catch(e){r(String(e))}},d=async e=>{try{let t=await (0,k.parseStringPromise)(e,{explicitArray:!1});n(JSON.stringify(t,null,2))}catch(e){r(String(e)||"未知错误")}},a=(0,v.useCallback)(()=>{g.Z.success("复制成功")},[]);return(0,v.useEffect)(()=>{if(""===e.trim()){l(""),r("");return}if(1===i)try{c(e),r("")}catch(e){r(String(e))}},[e,i]),(0,v.useEffect)(()=>{if(!t){n(""),r("");return}if(2===i)try{d(t),r("")}catch(e){r(String(e))}else r("")},[t,i]),(0,h.jsx)(f.Z,{children:(0,h.jsxs)(b.Z,{sx:{"#ace-editor *":{fontFamily:"Mono"}},children:[(0,h.jsxs)(j.Z,{sx:{mb:2},justifyContent:"center",direction:"row",spacing:2,children:[(0,h.jsxs)(j.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{width:"100%"},children:[(0,h.jsxs)(y.Z,{size:"small",variant:"outlined",onClick:()=>{let e=document.getElementById("fileInput");null==e||e.click()},children:["上传"," ",2===i?"XML":"JSON"]}),(0,h.jsx)(b.Z,{children:2===i?"XML":"JSON"})]}),(0,h.jsx)(b.Z,{sx:{width:"24px",display:"flex",alignItems:"center",cursor:"pointer",mx:3,flexShrink:0,color:"#999"},onClick:()=>o(2===i?1:2),children:(0,h.jsx)(Z.Z,{})}),(0,h.jsxs)(j.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{width:"100%"},children:[(0,h.jsx)(b.Z,{children:2===i?"JSON":"XML"}),(0,h.jsxs)(j.Z,{direction:"row",alignItems:"center",children:[(0,h.jsx)(S.CopyToClipboard,{text:2===i?e:t,onCopy:a,children:(0,h.jsx)(y.Z,{size:"small",children:"复制"})}),(0,h.jsxs)(y.Z,{size:"small",variant:"contained",disabled:!!s,onClick:()=>{let n=1===i?new Blob([t],{type:"application/xml"}):new Blob([e],{type:"application/json"}),l=document.createElement("a");l.href=window.URL.createObjectURL(n),l.download=1===i?"jsontoxml":"xmltojson",document.body.appendChild(l),l.click(),document.body.removeChild(l)},children:["导出"," ",2===i?"JSON":"XML"]})]})]})]}),(0,h.jsxs)(j.Z,{direction:"row",spacing:3,children:[(0,h.jsx)(w.ZP,{name:"a",fontSize:16,style:{width:"100%",borderRadius:"4px",height:"calc(100vh - 310px)"},value:2===i?t:e,mode:2===i?"xml":"json",theme:"monokai",onChange:2===i?l:n,editorProps:{$blockScrolling:!0}}),(0,h.jsx)(w.ZP,{name:"b",fontSize:16,style:{width:"100%",borderRadius:"4px",height:"calc(100vh - 310px)"},value:s||(2===i?e:t),mode:2===i?"json":"xml",theme:"monokai",readOnly:!0,editorProps:{$blockScrolling:!0}})]}),(0,h.jsx)(b.Z,{component:"input",id:"fileInput",type:"file",accept:2===i?".xml":".json",style:{display:"none"},onChange:e=>{let t=e.target.files[0];if(t){if(console.log("\uD83D\uDC35 ~ file: json2xml.tsx:112 ~ handleFileChange ~ file:",t),t.type===(1===i?"application/json":"application/xml")){let e=new FileReader;e.onload=e=>{let t=e.target.result;1===i?n(t):l(t),r("")},e.readAsText(t)}else n(""),r("Invalid file type.")}}})]})})}}},function(e){e.O(0,[4281,1876,4757,9681,8764,9774,2888,179],function(){return e(e.s=11995)}),_N_E=e.O()}]);