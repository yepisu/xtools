(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7491],{75830:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/htpasswd",function(){return t(35758)}])},23778:function(e,n){"use strict";n.Z={src:"/tools/_next/static/media/sunglasses.47396817.png",height:132,width:132,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAYAAADED76LAAAAp0lEQVR42mOAgetHZzHD2BFB7iwMyGDd8nomBlzg2J7JYJ3nTq623b2h89aZ7a03GNx8kxmQACOI+HS6//Kaetf/xxZG/t9UE/bp/5qJ3Aww8PnPf6H/t3d8+3t+0f9X25P+/z+Scev///+MDCDw5+QksP1/791o+Htp48f/+1Le/dqf7QcS+783i5kBGfzNZLD8U6Jl/h9kLTr4/+YUXPW/u8VwXwEAjeRKZLl9/rcAAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}},31831:function(e,n,t){"use strict";var i=t(85893),r=t(67294),l=t(95982),s=t(13029),o=t(46901),c=t(20745),a=t(2734);let u=r.forwardRef(function(e,n){return(0,i.jsx)(o.Z,{elevation:6,ref:n,variant:"filled",...e})});function d(e){var n;let t=(0,a.Z)(),[o,c]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{setTimeout(()=>{c(!1)},2e3)},[]),(0,i.jsx)(s.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:o,sx:{zIndex:t.zIndex.snackbar+100},children:(0,i.jsx)(u,{sx:{borderRadius:"0","&.MuiAlert-filledSuccess":{backgroundColor:l.T$}},icon:!1,color:null==e?void 0:e.color,children:null!==(n=null==e?void 0:e.content)&&void 0!==n?n:""})},"top-center-warning")}function x(e){let n=document.createElement("div");document.body.appendChild(n),n.id="warning-window",n.style.zIndex="-2",(0,c.createRoot)(n).render((0,i.jsx)(d,{...e})),setTimeout(()=>{n.remove()},3e3)}n.Z={success:e=>x({color:"success",content:e}),warning:e=>x({color:"warning",content:e}),error:e=>x({color:"error",content:e})}},37422:function(e,n,t){"use strict";var i=t(85893),r=t(94054),l=t(51233),s=t(47312);t(67294),n.Z=e=>{let{singleLine:n=!1}=e;return(0,i.jsx)(r.Z,{variant:"outlined",children:(0,i.jsxs)(l.Z,{direction:"row",sx:{alignItems:n?"center":"baseline"},children:[(0,i.jsx)(s.Z,{children:e.label}),(0,i.jsx)(l.Z,{flex:1,children:e.children})]})})}},43197:function(e,n,t){"use strict";var i=t(85893),r=t(70671),l=t(88613),s=t(47023),o=t(37375),c=t(55343),a=t(51233),u=t(5616),d=t(15861),x=t(25662),p=t(67294);n.Z=e=>{let{children:n,sx:t,fullScreen:h=!0}=e,{path:m}=(0,l.hI)(),[g]=p.useState(o.Z.find(e=>e.path===m));return(0,p.useEffect)(()=>{let e=e=>{if(!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)){let e=document.getElementById("fullscreen-element"),n=document.getElementById("rivers-header");e&&(e.style.position="unset",e.style.inset="0",e.style.maxWidth="unset",e.style.padding="0",n&&(n.style.display="block"))}};return document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)}},[]),(0,i.jsxs)(a.Z,{sx:{px:"50px",py:2,overflow:"auto",flex:1,borderRadius:"8px",background:"#fff",boxShadow:"0px 0px 2px 0px rgba(145,158,171,0.2), 0px 12px 24px -4px rgba(145,158,171,0.12)",...t},children:[(0,i.jsxs)(a.Z,{direction:"row",justifyContent:"space-between",children:[(0,i.jsx)(u.Z,{children:(0,i.jsx)(d.Z,{sx:{mb:"0px",fontWeight:600,color:r.Z2,fontSize:"20px"},gutterBottom:!0,variant:"subtitle1",component:"div",children:null==g?void 0:g.label})}),(0,i.jsx)(a.Z,{direction:"row",sx:{fontFamily:"Mono"},children:s.i.filter(e=>null==g?void 0:g.tags.includes(e.name)).map(e=>(0,i.jsx)(u.Z,{sx:{height:"24px",lineHeight:"24px",fontSize:"12px",background:"rgba(52,90,255,0.1)",color:"#345AFF",px:1,borderRadius:1,ml:1},children:e.label},e.name))})]}),(0,i.jsxs)(a.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{position:"relative",width:"100%",alignSelf:"stretch",mb:"24px"},children:[(0,i.jsx)(d.Z,{variant:"caption",sx:{display:"inline-block",maxWidth:"100%",pl:"6px",color:"rgba(11,37,98,0.5)",background:"rgba(11,37,98,0.04)",borderRadius:1,lineHeight:"24px"},children:null==g?void 0:g.subTitle}),h?(0,i.jsx)(x.Z,{size:"small",onClick:()=>{let e=document.body;new Promise(n=>{(null==e?void 0:e.requestFullscreen)?n(e.requestFullscreen()):(null==e?void 0:e.mozRequestFullScreen)?n(null==e?void 0:e.mozRequestFullScreen()):(null==e?void 0:e.webkitRequestFullscreen)?n(null==e?void 0:e.webkitRequestFullscreen()):(null==e?void 0:e.msRequestFullscreen)&&n(null==e?void 0:e.msRequestFullscreen())}).then(()=>{let e=document.getElementById("fullscreen-element"),n=document.getElementById("rivers-header");e&&(e.style.position="fixed",e.style.inset="0",e.style.maxWidth="100vw",e.style.background="#fff",e.style.padding="84px 14px 14px 14px",n&&(n.style.display="none"))})},sx:{borderRadius:"4px",height:"24px"},variant:"outlined",startIcon:(0,i.jsx)(c.Z,{}),children:"全屏"}):null]}),(0,i.jsx)(a.Z,{id:"fullscreen-element",sx:{gap:"18px",maxWidth:"1020px",fontFamily:"Mono",mx:"auto",flex:1,width:"100%"},children:n})]})}},91865:function(e,n,t){"use strict";t.d(n,{Nk:function(){return d},Xm:function(){return u},gT:function(){return a},j3:function(){return c}});var i=t(70671),r=t(15861),l=t(5616),s=t(51233),o=t(90948);let c=(0,o.ZP)(r.Z)(()=>({cursor:"pointer",minWidth:"30px",textAlign:"right","&:hover":{color:i.T$}})),a=(0,o.ZP)(l.Z)(()=>({pt:"10px",display:"flex",flexDirection:"column",mx:"auto",gap:16,"& .MuiOutlinedInput-root":{flexShrink:0,flexGrow:1},"&  .MuiOutlinedInput-input":{paddingTop:"4px",paddingBottom:"4px"},"& .MuiInputLabel-root":{position:"relative",transform:"unset",width:"155px",color:i.hm,fontSize:"14px"},"& .MuiOutlinedInput-notchedOutline":{borderColor:"#E3E8EF"},"& .MuiFormHelperText-root":{position:"absolute",bottom:"-20px"},"& .MuiInputAdornment-positionEnd > p":{fontSize:"14px!important"},"& input":{fontSize:"14px!important"},"& .MuiInputLabel-root.Mui-focused":{color:"unset"}})),u=(0,o.ZP)(s.Z)(()=>({cursor:"pointer",alignItems:"center",fontSize:"14px",borderRadius:"4px"})),d=(0,o.ZP)(s.Z)(()=>({"& .MuiOutlinedInput-root":{"@media(min-width: 1520px)":{width:"360px"}}}))},35758:function(e,n,t){"use strict";t.r(n);var i=t(85893),r=t(43197),l=t(51233),s=t(57709),o=t(23599),c=t(15861),a=t(5616),u=t(25662),d=t(86886),x=t(73575),p=t(67294),h=t(25675),m=t.n(h),g=t(23778),f=t(83858),Z=t.n(f),b=t(25791),v=t.n(b),j=t(2418),w=t.n(j),y=t(42474),E=t.n(y),A=t(31831),S=t(37422),k=t(91865),F=t(74855),I=t(41899),z=t(26148),C=t(86505);class P{Encrypt(e){return v()(e)}}class R{Encrypt(e){return e}}class L{Encrypt(e){return"{SHA}"+E().createHash("sha1").update(e).digest("base64")}}class M{Encrypt(e){return Z()(e)}}class _{Encrypt(e){let n=w().genSaltSync(this.Options.cost);return w().hashSync(e,n)}constructor(){this.Options={cost:10}}}let B={md5:new P,sha:new L,plain:new R,crypt:new M,bcrypt:new _},O={md5:"使用 md5 加密，2.2.18 以后的默认加密方式",sha:"使用 sha1 加密，当前已经不安全",plain:"不加密，全平台通用",crypt:"使用 crypt 加密，2.2.17 之前的默认加密方式，当前已经不安全",bcrypt:"使用 bcrypt 加密，号称当前全地球'最安全'的加密方式"},T='server {\n  auth_basic           "Administrator’s Area";\n  auth_basic_user_file /etc/nginx/.htpasswd;\n}\n';n.default=()=>{let[e,n]=p.useState(""),[t,h]=p.useState(""),[f,Z]=p.useState("md5"),[b,v]=p.useState(""),j=(0,p.useCallback)(n=>{if(n.preventDefault(),n.stopPropagation(),""===e){A.Z.warning("用户名不能为空");return}if(""===t){A.Z.warning("密码不能为空");return}if(""===f){A.Z.warning("需要选择一个加密方式");return}v(e+":"+(B[f]||B.md5).Encrypt(t))},[e,t,f]);return(0,i.jsx)(r.Z,{children:(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(k.gT,{sx:{width:"100%"},children:(0,i.jsx)("form",{onSubmit:j,children:(0,i.jsxs)(l.Z,{sx:{mt:"30px",gap:"18px"},children:[(0,i.jsx)(S.Z,{label:"用户名",singleLine:!0,children:(0,i.jsx)(s.Z,{value:e,onChange:e=>{n(e.target.value)}})}),(0,i.jsx)(S.Z,{label:"密码",singleLine:!0,children:(0,i.jsx)(s.Z,{value:t,onChange:e=>{h(e.target.value)}})}),(0,i.jsx)(S.Z,{label:"加密算法",children:(0,i.jsx)(x.Z,{variant:"outlined",value:f,onChange:e=>{Z(e.target.value)},children:Object.keys(B).map(e=>(0,i.jsxs)(o.Z,{value:e,children:[e.toUpperCase(),(0,i.jsxs)(c.Z,{variant:"caption",children:["（",O[e],"）"]})]},e))})}),(0,i.jsx)(a.Z,{sx:{pl:"157px"},children:(0,i.jsx)(u.Z,{size:"small",sx:{borderRadius:"4px",px:4},variant:"contained",color:"primary",type:"submit",children:"加密"})}),b?(0,i.jsx)(S.Z,{label:"密文",singleLine:!0,children:(0,i.jsx)(s.Z,{value:b})}):null]})})}),(0,i.jsx)(a.Z,{sx:{width:"100%",background:"#F7F8FA",borderRadius:"4px"},children:(0,i.jsxs)(d.ZP,{container:!0,spacing:1,children:[(0,i.jsx)(d.ZP,{item:!0,children:(0,i.jsx)(m(),{width:80,alt:"complex",src:g.Z})}),(0,i.jsx)(d.ZP,{item:!0,xs:12,sm:!0,container:!0,children:(0,i.jsxs)(d.ZP,{item:!0,xs:!0,container:!0,direction:"column",spacing:2,children:[(0,i.jsx)(d.ZP,{item:!0,children:(0,i.jsx)(c.Z,{gutterBottom:!0,variant:"body2",sx:{fontWeight:600,pt:2},component:"div",children:"小 Tips"})}),(0,i.jsx)(d.ZP,{item:!0,xs:!0,sx:{pt:"4px!important"},children:(0,i.jsx)(l.Z,{children:(0,i.jsx)(c.Z,{sx:{color:"rgba(0, 0, 0, 0.50)"},variant:"caption",children:"轻松两步骤搞定 Nginx Basic Authentication 配置！"})})})]})})]})}),(0,i.jsxs)(a.Z,{children:[(0,i.jsx)(d.ZP,{item:!0,children:(0,i.jsx)(c.Z,{gutterBottom:!0,variant:"body2",sx:{fontWeight:600,pt:2},component:"div",children:"1. 创建文件 /etc/nginx/.htpasswd 并将上述密文写入"})}),(0,i.jsx)(d.ZP,{item:!0,children:(0,i.jsx)(c.Z,{gutterBottom:!0,variant:"body2",sx:{fontWeight:600,pt:2},component:"div",children:"2. 在对应的 location 修改配置如下，并 nginx -s reload"})})]}),(0,i.jsxs)(a.Z,{sx:{position:"relative","& pre":{minHeight:"120px"},"& *":{fontFamily:"Mono"}},children:[(0,i.jsx)(z.Z,{language:"nginx",style:C.Z,children:T}),(0,i.jsx)(F.CopyToClipboard,{text:T,onCopy:e=>{A.Z.success("复制成功")},children:(0,i.jsx)(I.Z,{sx:{zIndex:1,position:"absolute",right:"6px",top:"16px",cursor:"pointer","& svg":{width:"20px",height:"20px"}},fontSize:"small",color:"primary"})})]})]})})}}},function(e){e.O(0,[3714,8683,1876,9866,9681,9911,9774,2888,179],function(){return e(e.s=75830)}),_N_E=e.O()}]);