(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3520],{39457:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/cidr",function(){return n(10442)}])},43197:function(e,t,n){"use strict";var l=n(85893),s=n(70671),i=n(88613),r=n(47023),a=n(37375),u=n(55343),o=n(51233),c=n(5616),d=n(15861),m=n(25662),x=n(67294);t.Z=e=>{let{children:t,sx:n,fullScreen:p=!0}=e,{path:h}=(0,i.hI)(),[f]=x.useState(a.Z.find(e=>e.path===h));return(0,x.useEffect)(()=>{let e=e=>{if(!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)){let e=document.getElementById("fullscreen-element"),t=document.getElementById("rivers-header");e&&(e.style.position="unset",e.style.inset="0",e.style.maxWidth="unset",e.style.padding="0",t&&(t.style.display="block"))}};return document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)}},[]),(0,l.jsxs)(o.Z,{sx:{px:"50px",py:2,overflow:"auto",flex:1,borderRadius:"8px",background:"#fff",boxShadow:"0px 0px 2px 0px rgba(145,158,171,0.2), 0px 12px 24px -4px rgba(145,158,171,0.12)",...n},children:[(0,l.jsxs)(o.Z,{direction:"row",justifyContent:"space-between",children:[(0,l.jsx)(c.Z,{children:(0,l.jsx)(d.Z,{sx:{mb:"0px",fontWeight:600,color:s.Z2,fontSize:"20px"},gutterBottom:!0,variant:"subtitle1",component:"div",children:null==f?void 0:f.label})}),(0,l.jsx)(o.Z,{direction:"row",sx:{fontFamily:"Mono"},children:r.i.filter(e=>null==f?void 0:f.tags.includes(e.name)).map(e=>(0,l.jsx)(c.Z,{sx:{height:"24px",lineHeight:"24px",fontSize:"12px",background:"rgba(52,90,255,0.1)",color:"#345AFF",px:1,borderRadius:1,ml:1},children:e.label},e.name))})]}),(0,l.jsxs)(o.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{position:"relative",width:"100%",alignSelf:"stretch",mb:"24px"},children:[(0,l.jsx)(d.Z,{variant:"caption",sx:{display:"inline-block",maxWidth:"100%",pl:"6px",color:"rgba(11,37,98,0.5)",background:"rgba(11,37,98,0.04)",borderRadius:1,lineHeight:"24px"},children:null==f?void 0:f.subTitle}),p?(0,l.jsx)(m.Z,{size:"small",onClick:()=>{let e=document.body;new Promise(t=>{(null==e?void 0:e.requestFullscreen)?t(e.requestFullscreen()):(null==e?void 0:e.mozRequestFullScreen)?t(null==e?void 0:e.mozRequestFullScreen()):(null==e?void 0:e.webkitRequestFullscreen)?t(null==e?void 0:e.webkitRequestFullscreen()):(null==e?void 0:e.msRequestFullscreen)&&t(null==e?void 0:e.msRequestFullscreen())}).then(()=>{let e=document.getElementById("fullscreen-element"),t=document.getElementById("rivers-header");e&&(e.style.position="fixed",e.style.inset="0",e.style.maxWidth="100vw",e.style.background="#fff",e.style.padding="84px 14px 14px 14px",t&&(t.style.display="none"))})},sx:{borderRadius:"4px",height:"24px"},variant:"outlined",startIcon:(0,l.jsx)(u.Z,{}),children:"全屏"}):null]}),(0,l.jsx)(o.Z,{id:"fullscreen-element",sx:{gap:"18px",maxWidth:"1020px",fontFamily:"Mono",mx:"auto",flex:1,width:"100%"},children:t})]})}},10442:function(e,t,n){"use strict";n.r(t);var l=n(85893),s=n(67294),i=n(86886),r=n(61903),a=n(43197);function u(e){let t=[];for(let n=0;n<4;n++)t.unshift(e>>8*n&255);return t.join(".")}t.default=()=>{let[e,t]=(0,s.useState)("192"),[n,o]=(0,s.useState)("168"),[c,d]=(0,s.useState)("1"),[m,x]=(0,s.useState)("1"),[p,h]=(0,s.useState)(24),[f,g]=(0,s.useState)({mask:"",firstUsableIP:"",lastUsableIP:"",totalUsable:0}),v=[(0,s.useRef)(null),(0,s.useRef)(null),(0,s.useRef)(null),(0,s.useRef)(null)],b=(0,s.useRef)(null),[j,Z]=(0,s.useState)("192.168.100.1"),[y,P]=(0,s.useState)(24);(0,s.useEffect)(()=>{let t,l,s,i,r,a,o,d;let x=(l=(t=[e,n,c,m].map(e=>parseInt(e).toString(2).padStart(8,"0")).join("")).substring(0,p)+"0".repeat(32-p),s=t.substring(0,p)+"1".repeat(32-p),i=parseInt(l,2),r=parseInt(s,2),o=null==(a=("1".repeat(p)+"0".repeat(32-p)).match(/.{1,8}/g))?void 0:a.map(e=>parseInt(e,2)).join("."),d=Math.pow(2,32-p),{firstUsableIP:u(i),lastUsableIP:u(r),mask:o,totalUsable:d});g({...x,mask:x.mask||""})},[e,n,c,m,p]);let w=(e,n)=>{if(e.includes(".")){e.includes("/")?(Z(e.split("/")[0]),P(e.split("/")[1])):Z(e);let n=j.split(".");if(console.log(n,4===n.length,!isNaN(y),y),4===n.length&&!isNaN(y)){for(var l,s,i=0;i<4;i++){let e=[t,o,d,x][i];console.log(n[i]),e(n[i])}h(y)}}else{let i=parseInt(e,10);!isNaN(i)&&i>=0&&i<=255&&((0,[t,o,d,x][n])(e),i>99&&n<3&&(null===(s=v[n+1])||void 0===s||null===(l=s.current)||void 0===l||l.focus()))}};return(0,l.jsx)(a.Z,{children:(0,l.jsxs)(i.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[[e,n,c,m].map((e,t)=>(0,l.jsx)(i.ZP,{item:!0,xs:2,children:(0,l.jsx)(r.Z,{fullWidth:!0,variant:"outlined",value:e,onChange:e=>w(e.target.value,t),inputRef:v[t]})},t)),(0,l.jsx)(i.ZP,{item:!0,xs:.35,children:"/"}),(0,l.jsx)(i.ZP,{item:!0,xs:2,children:(0,l.jsx)(r.Z,{fullWidth:!0,label:"Subnet Mask",type:"number",variant:"outlined",value:p,onChange:e=>h(Number(e.target.value)),inputRef:b})}),(0,l.jsxs)(i.ZP,{container:!0,spacing:2,alignItems:"center",sx:{mt:"3vh",ml:"4vh"},children:[(0,l.jsx)(i.ZP,{item:!0,xs:2,children:"总计可用:"}),(0,l.jsx)(i.ZP,{item:!0,xs:2,children:(0,l.jsx)("strong",{children:f.totalUsable})})]}),(0,l.jsxs)(i.ZP,{container:!0,spacing:2,alignItems:"center",sx:{mt:"3vh",ml:"4vh"},children:[(0,l.jsx)(i.ZP,{item:!0,xs:2,children:"掩码:"}),f.mask.split(".").map((e,t)=>(0,l.jsx)(i.ZP,{item:!0,xs:2,children:(0,l.jsx)(r.Z,{fullWidth:!0,variant:"outlined",type:"number",disabled:!0,value:e,onChange:e=>w(e.target.value,t),inputRef:v[t]})},t))]}),(0,l.jsxs)(i.ZP,{container:!0,spacing:2,alignItems:"center",sx:{mt:"3vh",ml:"4vh"},children:[(0,l.jsx)(i.ZP,{item:!0,xs:2,children:"首个可用:"}),f.firstUsableIP.split(".").map((e,t)=>(0,l.jsx)(i.ZP,{item:!0,xs:2,children:(0,l.jsx)(r.Z,{fullWidth:!0,variant:"outlined",type:"number",disabled:!0,value:e,onChange:e=>w(e.target.value,t),inputRef:v[t]})},t))]}),(0,l.jsxs)(i.ZP,{container:!0,spacing:2,alignItems:"center",sx:{mt:"3vh",ml:"4vh"},children:[(0,l.jsx)(i.ZP,{item:!0,xs:2,children:"最后可用:"}),f.lastUsableIP.split(".").map((e,t)=>(0,l.jsx)(i.ZP,{item:!0,xs:2,children:(0,l.jsx)(r.Z,{fullWidth:!0,variant:"outlined",type:"number",disabled:!0,value:e,onChange:e=>w(e.target.value,t),inputRef:v[t]})},t))]})]})})}}},function(e){e.O(0,[8683,9774,2888,179],function(){return e(e.s=39457)}),_N_E=e.O()}]);