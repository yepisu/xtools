(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4092],{46274:function(e){function t(e){var t=Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=function(){return[]},t.resolve=t,t.id=46274,e.exports=t},42978:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/json2go",function(){return n(49537)}])},31831:function(e,t,n){"use strict";var r=n(85893),l=n(67294),o=n(95982),i=n(13029),s=n(46901),c=n(20745),u=n(2734);let a=l.forwardRef(function(e,t){return(0,r.jsx)(s.Z,{elevation:6,ref:t,variant:"filled",...e})});function d(e){var t;let n=(0,u.Z)(),[s,c]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{setTimeout(()=>{c(!1)},2e3)},[]),(0,r.jsx)(i.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:s,sx:{zIndex:n.zIndex.snackbar+100},children:(0,r.jsx)(a,{sx:{borderRadius:"0","&.MuiAlert-filledSuccess":{backgroundColor:o.T$}},icon:!1,color:null==e?void 0:e.color,children:null!==(t=null==e?void 0:e.content)&&void 0!==t?t:""})},"top-center-warning")}function f(e){let t=document.createElement("div");document.body.appendChild(t),t.id="warning-window",t.style.zIndex="-2",(0,c.createRoot)(t).render((0,r.jsx)(d,{...e})),setTimeout(()=>{t.remove()},3e3)}t.Z={success:e=>f({color:"success",content:e}),warning:e=>f({color:"warning",content:e}),error:e=>f({color:"error",content:e})}},43197:function(e,t,n){"use strict";var r=n(85893),l=n(70671),o=n(88613),i=n(47023),s=n(37375),c=n(55343),u=n(51233),a=n(5616),d=n(15861),f=n(25662),x=n(67294);t.Z=e=>{let{children:t,sx:n,fullScreen:p=!0}=e,{path:m}=(0,o.hI)(),[h]=x.useState(s.Z.find(e=>e.path===m));return(0,x.useEffect)(()=>{let e=e=>{if(!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)){let e=document.getElementById("fullscreen-element"),t=document.getElementById("rivers-header");e&&(e.style.position="unset",e.style.inset="0",e.style.maxWidth="unset",e.style.padding="0",t&&(t.style.display="block"))}};return document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)}},[]),(0,r.jsxs)(u.Z,{sx:{px:"50px",py:2,overflow:"auto",flex:1,borderRadius:"8px",background:"#fff",boxShadow:"0px 0px 2px 0px rgba(145,158,171,0.2), 0px 12px 24px -4px rgba(145,158,171,0.12)",...n},children:[(0,r.jsxs)(u.Z,{direction:"row",justifyContent:"space-between",children:[(0,r.jsx)(a.Z,{children:(0,r.jsx)(d.Z,{sx:{mb:"0px",fontWeight:600,color:l.Z2,fontSize:"20px"},gutterBottom:!0,variant:"subtitle1",component:"div",children:null==h?void 0:h.label})}),(0,r.jsx)(u.Z,{direction:"row",sx:{fontFamily:"Mono"},children:i.i.filter(e=>null==h?void 0:h.tags.includes(e.name)).map(e=>(0,r.jsx)(a.Z,{sx:{height:"24px",lineHeight:"24px",fontSize:"12px",background:"rgba(52,90,255,0.1)",color:"#345AFF",px:1,borderRadius:1,ml:1},children:e.label},e.name))})]}),(0,r.jsxs)(u.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{position:"relative",width:"100%",alignSelf:"stretch",mb:"24px"},children:[(0,r.jsx)(d.Z,{variant:"caption",sx:{display:"inline-block",maxWidth:"100%",pl:"6px",color:"rgba(11,37,98,0.5)",background:"rgba(11,37,98,0.04)",borderRadius:1,lineHeight:"24px"},children:null==h?void 0:h.subTitle}),p?(0,r.jsx)(f.Z,{size:"small",onClick:()=>{let e=document.body;new Promise(t=>{(null==e?void 0:e.requestFullscreen)?t(e.requestFullscreen()):(null==e?void 0:e.mozRequestFullScreen)?t(null==e?void 0:e.mozRequestFullScreen()):(null==e?void 0:e.webkitRequestFullscreen)?t(null==e?void 0:e.webkitRequestFullscreen()):(null==e?void 0:e.msRequestFullscreen)&&t(null==e?void 0:e.msRequestFullscreen())}).then(()=>{let e=document.getElementById("fullscreen-element"),t=document.getElementById("rivers-header");e&&(e.style.position="fixed",e.style.inset="0",e.style.maxWidth="100vw",e.style.background="#fff",e.style.padding="84px 14px 14px 14px",t&&(t.style.display="none"))})},sx:{borderRadius:"4px",height:"24px"},variant:"outlined",startIcon:(0,r.jsx)(c.Z,{}),children:"全屏"}):null]}),(0,r.jsx)(u.Z,{id:"fullscreen-element",sx:{gap:"18px",maxWidth:"1020px",fontFamily:"Mono",mx:"auto",flex:1,width:"100%"},children:t})]})}},49537:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var r=n(85893),l=n(31831),o=n(43197),i=n(67294),s=n(86886),c=n(5616),u=n(25662),a=n(74855),d=n(41899),f=n(63441),x=n(41733),p=n(73397),m=n(74981);n(44576),n(82679),n(90252),n(42270);var h=n(41940),g=n.n(h),y=()=>{let[e,t]=(0,i.useState)(""),[n,h]=(0,i.useState)(""),y=(0,i.useCallback)(()=>{l.Z.success("复制成功")},[]),b=e=>{if(t(e),0==e.length){h("");return}try{h(g()(function(e,t){var n;let r,l=!(arguments.length>2)||void 0===arguments[2]||arguments[2],o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s="",c=0,u={},a=[],d="",f="";try{r=JSON.parse(e.replace(/(:\s*\[?\s*-?\d*)\.0/g,"$1.1"))}catch(e){return{go:"",error:e.message}}return t=b(t||"AutoGenerated"),n="type ".concat(t," "),s+=n,x(r),{go:l?s+=d:s};function x(e){var t,n,r,o;let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if("object"==typeof e&&null!==e){if(Array.isArray(e)){let r;let o=e.length;for(let n=0;n<o;n++){let l=j(e[n]);if(r){if(r!=l&&"any"==(t=r,r="float"==l.substr(0,5)&&"int"==t.substr(0,3)?l:"int"==l.substr(0,3)&&"float"==t.substr(0,5)?t:"any"))break}else r=l}let c=l&&["struct","slice"].includes(r)?"[]".concat(f):"[]";if(l&&i>=2?g(c):s+=c,"struct"==r){let t={};for(let n=0;n<o;n++){let r=Object.keys(e[n]);for(let l in r){let o=r[l];if(o in t){let r=t[o].value,l=e[n][o];(function(e,t){let n="[object Object]";return Object.prototype.toString.call(e)===n&&Object.prototype.toString.call(t)===n})(r,l)&&!w(Object.keys(l),Object.keys(r))&&(t[o="".concat(o,"_").concat("xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))]={value:l,count:0})}else t[o]={value:e[n][o],count:0};t[o].count++}}let n=Object.keys(t),r={},l={};for(let e in n){let i=n[e],s=t[i];r[i]=s.value,l[i]=s.count!=o}p(i+1,0,r,l)}else"slice"==r?x(e[0],i):l&&i>=2?g(r||"any"):(n=r||"any",s+=n)}else l&&(i>=2?g(f):(r=f,s+=r)),p(i+1,0,e)}else l&&i>=2?g(j(e)):(o=j(e),s+=o)}function p(e,t,n,r){l&&a.push(e>=2?"\n":"");let p=[];if(l&&e>=2){let l="type ".concat(f),o=function(e){for(let t in e)e[t]=b(e[t]);return e}(Object.keys(n));if(f in u&&w(o,u[f])){a.pop();return}u[f]=o,g("".concat(l," struct {\n")),++t;let s=Object.keys(n);for(let l in s){let o=S(s[l]);h(t);let c=y(b(o),p);p.push(c),g(c+" "),f=c,x(n[s[l]],e),g(' `json:"'+o),(i||r&&!0===r[s[l]])&&g(",omitempty"),g('"`\n')}h(--t),g("}")}else{s+="struct {\n",++c;let t=Object.keys(n);for(let l in t){var v,j,Z;let u=S(t[l]);m(c);let a=y(b(u),p);p.push(a),v=a+" ",s+=v,f=a,x(n[t[l]],e),j=' `json:"'+u,s+=j,(i||r&&!0===r[t[l]])&&(s+=",omitempty"),o&&""!==n[t[l]]&&"object"!=typeof n[t[l]]&&(Z='" example:"'+n[t[l]],s+=Z),s+='"`\n'}m(--c),s+="}"}l&&(d+=a.pop())}function m(e){for(let t=0;t<e;t++)s+="	"}function h(e){for(let t=0;t<e;t++)a[a.length-1]+="	"}function g(e){a[a.length-1]+=e}function y(e,t){if(-1===t.indexOf(e))return e;let n=0;for(;;){let r=e+n.toString();if(-1===t.indexOf(r))return r;n++}}function b(e){let t=(function(e){e.match(/^[_A-Z0-9]+$/)&&(e=e.toLowerCase());let t=["ACL","API","ASCII","CPU","CSS","DNS","EOF","GUID","HTML","HTTP","HTTPS","ID","IP","JSON","LHS","QPS","RAM","RHS","RPC","SLA","SMTP","SQL","SSH","TCP","TLS","TTL","UDP","UI","UID","UUID","URI","URL","UTF8","VM","XML","XMPP","XSRF","XSS"];return e.replace(/(^|[^a-zA-Z])([a-z]+)/g,function(e,n,r){return t.indexOf(r.toUpperCase())>=0?n+r.toUpperCase():n+r[0].toUpperCase()+r.substr(1).toLowerCase()}).replace(/([A-Z])([a-z]+)/g,function(e,n,r){return t.indexOf(n+r.toUpperCase())>=0?(n+r).toUpperCase():n+r})})(e=v(e)).replace(/[^a-z0-9]/gi,"");return t?v(t):"NAMING_FAILED"}function v(e){return e?(e.match(/^\d+$/)?e="Num"+e:e.charAt(0).match(/\d/)&&(e=({0:"Zero_",1:"One_",2:"Two_",3:"Three_",4:"Four_",5:"Five_",6:"Six_",7:"Seven_",8:"Eight_",9:"Nine_"})[e.charAt(0)]+e.substr(1)),e):""}function j(e){if(null===e)return"any";switch(typeof e){case"string":if(/\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(\.\d+)?(\+\d\d:\d\d|Z)/.test(e))return"time.Time";return"string";case"number":if(e%1!=0)return"float64";if(e>-2147483648&&e<2147483647)return"int";return"int64";case"boolean":return"bool";case"object":if(Array.isArray(e))return"slice";return"struct";default:return"any"}}function S(e){if(e.length>=36){let t=e.substr(-36);if(/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(t))return e.slice(0,-37)}return e}function w(e,t){let n=e.length,r=t.length;if(0==n&&0==r)return!0;if(n!=r)return!1;for(let n of e)if(!t.includes(n))return!1;return!0}}(e,"").go))}catch(e){h("无效的 JSON, 转换失败。")}};return(0,i.useEffect)(()=>{b('{\n  "name": "John Doe",\n  "age": 25,\n  "is_student": false,\n  "grades": [95, 87, 92],\n  "address": {\n    "street": "123 Main St",\n    "city": "Anytown",\n    "zipCode": "12345"\n  },\n  "contacts": [\n    {\n      "type": "email",\n      "value": "john.doe@example.com"\n    },\n    {\n      "type": "phone",\n      "value": "555-1234"\n    }\n  ],\n  "is_active": true,\n  "notes": null\n}')},[]),(0,r.jsx)(o.Z,{children:(0,r.jsxs)(s.ZP,{sx:{mt:"24px",maxWidth:"1020px",height:"100%","#json-input *":{fontFamily:"Mono"},"#json-output *":{fontFamily:"Mono"}},container:!0,spacing:2,children:[(0,r.jsxs)(s.ZP,{item:!0,xs:6,children:[(0,r.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"space-between",p:1},children:[(0,r.jsx)("div",{children:"输入"}),(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(u.Z,{onClick:()=>{t(""),h("")},children:(0,r.jsx)(x.Z,{fontSize:"small",color:"primary"})}),(0,r.jsx)(u.Z,{onClick:()=>{let e=document.getElementById("fileInput");null==e||e.click()},children:(0,r.jsx)(p.Z,{fontSize:"small",color:"primary"})})]})]}),(0,r.jsx)(m.ZP,{name:"json-input",fontSize:16,style:{width:"100%",borderRadius:"4px",height:"calc(100vh - 345px)",fontFamily:"Mono"},value:e,mode:"json",theme:"monokai",onChange:b,tabSize:2}),(0,r.jsx)("input",{id:"fileInput",type:"file",accept:".json",style:{display:"none"},onChange:e=>{let n=e.target.files[0];if(n){if("application/json"===n.type){let e=new FileReader;e.onload=e=>{b(e.target.result)},e.readAsText(n)}else t(""),l.Z.error("无效的文件")}}})]}),(0,r.jsxs)(s.ZP,{item:!0,xs:6,children:[(0,r.jsxs)(c.Z,{sx:{display:"flex",justifyContent:"space-between",p:1},children:[(0,r.jsx)("div",{children:"输出"}),(0,r.jsxs)(c.Z,{children:[(0,r.jsx)(u.Z,{onClick:()=>{let e=new Blob([n],{type:"application/json;charset=utf-8;"}),t=document.createElement("a");t.href=window.URL.createObjectURL(e);let r=new Date().getTime();t.download=r.toString()+".go",document.body.appendChild(t),t.click(),document.body.removeChild(t)},children:(0,r.jsx)(f.Z,{fontSize:"small",color:"primary"})}),(0,r.jsx)(a.CopyToClipboard,{text:n,onCopy:y,children:(0,r.jsx)(u.Z,{children:(0,r.jsx)(d.Z,{fontSize:"small",color:"primary"})})})]})]}),(0,r.jsx)(m.ZP,{name:"json-output",fontSize:16,style:{width:"100%",borderRadius:"4px",height:"calc(100vh - 345px)",fontFamily:"Mono"},value:n,mode:"golang",theme:"monokai",onChange:h,editorProps:{$blockScrolling:!0}})]})]})})}}},function(e){e.O(0,[4281,6803,8683,4757,1286,9774,2888,179],function(){return e(e.s=42978)}),_N_E=e.O()}]);