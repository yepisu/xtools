(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4617],{18527:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/img_sharp",function(){return n(96968)}])},3203:function(e,t,n){"use strict";var l=n(85893),s=n(5616),i=n(67294);t.Z=e=>{let t=(0,i.useCallback)(t=>{if(e.src){let t=/^data:[a-zA-Z0-9]+\/([a-zA-Z0-9]+)[^;]*;base64,/.exec(e.src);if(t&&t[1]){let n=document.createElement("a");n.style.display="none",n.href=e.src,n.download="保存图片."+t[1],document.body.appendChild(n),n.click()}}},[e.src]);return(0,l.jsxs)(s.Z,{sx:{width:"100%",padding:"20px",position:"relative",display:"inline-block",border:"black solid 1px",borderColor:"rgba(0, 0, 0, 0.2)",borderRadius:"4px",...e.sx},children:[e.src?(0,l.jsx)("img",{src:e.src,style:{width:"100%",height:"100%"}}):(0,l.jsx)(l.Fragment,{}),(0,l.jsxs)(s.Z,{sx:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"1",cursor:"pointer",color:"rgba(0,0,0,0)",fontSize:"14px",textAlign:"center",userSelect:"none",paddingTop:"20px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.5)",color:e.src?"rgba(255,255,255,1)":""}},onClick:t,children:[" ","点击下载图片"," "]})]})}},43197:function(e,t,n){"use strict";var l=n(85893),s=n(70671),i=n(88613),r=n(47023),o=n(37375),a=n(55343),d=n(51233),c=n(5616),u=n(15861),x=n(25662),h=n(67294);t.Z=e=>{let{children:t,sx:n,fullScreen:p=!0}=e,{path:m}=(0,i.hI)(),[g]=h.useState(o.Z.find(e=>e.path===m));return(0,h.useEffect)(()=>{let e=e=>{if(!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)){let e=document.getElementById("fullscreen-element"),t=document.getElementById("rivers-header");e&&(e.style.position="unset",e.style.inset="0",e.style.maxWidth="unset",e.style.padding="0",t&&(t.style.display="block"))}};return document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)}},[]),(0,l.jsxs)(d.Z,{sx:{px:"50px",py:2,overflow:"auto",flex:1,borderRadius:"8px",background:"#fff",boxShadow:"0px 0px 2px 0px rgba(145,158,171,0.2), 0px 12px 24px -4px rgba(145,158,171,0.12)",...n},children:[(0,l.jsxs)(d.Z,{direction:"row",justifyContent:"space-between",children:[(0,l.jsx)(c.Z,{children:(0,l.jsx)(u.Z,{sx:{mb:"0px",fontWeight:600,color:s.Z2,fontSize:"20px"},gutterBottom:!0,variant:"subtitle1",component:"div",children:null==g?void 0:g.label})}),(0,l.jsx)(d.Z,{direction:"row",sx:{fontFamily:"Mono"},children:r.i.filter(e=>null==g?void 0:g.tags.includes(e.name)).map(e=>(0,l.jsx)(c.Z,{sx:{height:"24px",lineHeight:"24px",fontSize:"12px",background:"rgba(52,90,255,0.1)",color:"#345AFF",px:1,borderRadius:1,ml:1},children:e.label},e.name))})]}),(0,l.jsxs)(d.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{position:"relative",width:"100%",alignSelf:"stretch",mb:"24px"},children:[(0,l.jsx)(u.Z,{variant:"caption",sx:{display:"inline-block",maxWidth:"100%",pl:"6px",color:"rgba(11,37,98,0.5)",background:"rgba(11,37,98,0.04)",borderRadius:1,lineHeight:"24px"},children:null==g?void 0:g.subTitle}),p?(0,l.jsx)(x.Z,{size:"small",onClick:()=>{let e=document.body;new Promise(t=>{(null==e?void 0:e.requestFullscreen)?t(e.requestFullscreen()):(null==e?void 0:e.mozRequestFullScreen)?t(null==e?void 0:e.mozRequestFullScreen()):(null==e?void 0:e.webkitRequestFullscreen)?t(null==e?void 0:e.webkitRequestFullscreen()):(null==e?void 0:e.msRequestFullscreen)&&t(null==e?void 0:e.msRequestFullscreen())}).then(()=>{let e=document.getElementById("fullscreen-element"),t=document.getElementById("rivers-header");e&&(e.style.position="fixed",e.style.inset="0",e.style.maxWidth="100vw",e.style.background="#fff",e.style.padding="84px 14px 14px 14px",t&&(t.style.display="none"))})},sx:{borderRadius:"4px",height:"24px"},variant:"outlined",startIcon:(0,l.jsx)(a.Z,{}),children:"全屏"}):null]}),(0,l.jsx)(d.Z,{id:"fullscreen-element",sx:{gap:"18px",maxWidth:"1020px",fontFamily:"Mono",mx:"auto",flex:1,width:"100%"},children:t})]})}},96968:function(e,t,n){"use strict";n.r(t);var l=n(85893),s=n(43197),i=n(5616),r=n(40044),o=n(51233),a=n(25662),d=n(86886),c=n(53754),u=n(55050),x=n(45670),h=n(66568),p=n(67294),m=n(90948),g=n(26589),f=n(3203);let b=(0,m.ZP)("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1}),v=(0,m.ZP)("img")({maxHeight:"100%",maxWidth:"100%"});function Z(e){if(0===e)return"0 B";let t=Math.floor(Math.log10(e)/Math.log10(1024));return"".concat((e/Math.pow(1024,t)).toFixed(2)," ").concat(["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t])}let j=(0,m.ZP)("span")({});t.default=()=>{let[e,t]=(0,p.useState)(""),[n,m]=(0,p.useState)(""),[y,w]=(0,p.useState)(""),[k,E]=(0,p.useState)(""),[S,F]=(0,p.useState)(60),[z,C]=(0,p.useState)(),[R,B]=(0,p.useState)(),P=(0,p.useCallback)(e=>{let n=e.target.files||[];if(0==n.length)return;let l=n[0];l.name,E(Z(l.size));let s=new FileReader;s.onload=function(e){null!==e.target&&t(e.target.result)},s.readAsDataURL(l),C(l),L(S,l)},[z,S]),_=(0,p.useCallback)((e,t)=>{F(t),L(S,z)},[z,S]);async function L(e,t){let n=await (0,g.V)(t,{quality:e}),l=new FileReader;l.onload=function(e){null!==e.target&&m(e.target.result)},l.readAsDataURL(n),w(Z(n.size)),B(n)}return(0,l.jsx)(s.Z,{children:(0,l.jsx)(i.Z,{sx:{width:"100%",typography:"body1"},children:(0,l.jsxs)(x.ZP,{value:"1",children:[(0,l.jsx)(i.Z,{sx:{borderBottom:1,borderColor:"divider"},children:(0,l.jsx)(h.Z,{children:(0,l.jsx)(r.Z,{label:"图片压缩",value:"1",sx:{textTransform:"none !important"}})})}),(0,l.jsx)(u.Z,{value:"1",sx:{paddingLeft:0,paddingRight:0},children:(0,l.jsxs)(o.Z,{spacing:1,children:[(0,l.jsxs)(a.Z,{component:"label",variant:"outlined",sx:{borderRadius:"3px",height:"179px"},children:[e?(0,l.jsx)(j,{}):(0,l.jsx)(j,{children:"选择图片"}),(0,l.jsx)(v,{src:e}),(0,l.jsx)(b,{type:"file",accept:"image/*",onChange:P})]}),(0,l.jsxs)(d.ZP,{container:!0,sx:{display:"flex",alignItems:"center",fontSize:"14px"},children:[(0,l.jsx)(d.ZP,{item:!0,xs:1,children:(0,l.jsx)(i.Z,{sx:{fontSize:"14px"},children:"图片质量"})}),(0,l.jsx)(d.ZP,{item:!0,xs:11,children:(0,l.jsx)(c.ZP,{size:"small",defaultValue:60,onChange:_,"aria-label":"Small",valueLabelDisplay:"auto"})}),(0,l.jsxs)(d.ZP,{item:!0,xs:6,children:["原大小: ",k]}),(0,l.jsxs)(d.ZP,{item:!0,xs:6,children:["压缩后大小: ",y]})]}),n?(0,l.jsx)(f.Z,{src:n}):(0,l.jsx)(l.Fragment,{})]})})]})})})}}},function(e){e.O(0,[8683,9912,3754,7548,9774,2888,179],function(){return e(e.s=18527)}),_N_E=e.O()}]);