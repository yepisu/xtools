(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3083],{54599:function(e,t,n){"use strict";var l=n(64836);t.Z=void 0;var i=l(n(64938)),r=n(85893),s=(0,i.default)((0,r.jsx)("path",{d:"M19 7v2.99s-1.99.01-2 0V7h-3s.01-1.99 0-2h3V2h2v3h3v2h-3zm-3 4V8h-3V5H5c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-8h-3zM5 19l3-4 2 3 3-4 4 5H5z"}),"AddPhotoAlternate");t.Z=s},40388:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/img_radius",function(){return n(72457)}])},3203:function(e,t,n){"use strict";var l=n(85893),i=n(5616),r=n(67294);t.Z=e=>{let t=(0,r.useCallback)(t=>{if(e.src){let t=/^data:[a-zA-Z0-9]+\/([a-zA-Z0-9]+)[^;]*;base64,/.exec(e.src);if(t&&t[1]){let n=document.createElement("a");n.style.display="none",n.href=e.src,n.download="保存图片."+t[1],document.body.appendChild(n),n.click()}}},[e.src]);return(0,l.jsxs)(i.Z,{sx:{width:"100%",padding:"20px",position:"relative",display:"inline-block",border:"black solid 1px",borderColor:"rgba(0, 0, 0, 0.2)",borderRadius:"4px",...e.sx},children:[e.src?(0,l.jsx)("img",{src:e.src,style:{width:"100%",height:"100%"}}):(0,l.jsx)(l.Fragment,{}),(0,l.jsxs)(i.Z,{sx:{position:"absolute",top:"0",left:"0",width:"100%",height:"100%",zIndex:"1",cursor:"pointer",color:"rgba(0,0,0,0)",fontSize:"14px",textAlign:"center",userSelect:"none",paddingTop:"20px","&:hover":{backgroundColor:"rgba(0, 0, 0, 0.5)",color:e.src?"rgba(255,255,255,1)":""}},onClick:t,children:[" ","点击下载图片"," "]})]})}},43197:function(e,t,n){"use strict";var l=n(85893),i=n(70671),r=n(88613),s=n(47023),o=n(37375),c=n(55343),a=n(51233),d=n(5616),u=n(15861),h=n(25662),x=n(67294);t.Z=e=>{let{children:t,sx:n,fullScreen:m=!0}=e,{path:p}=(0,r.hI)(),[g]=x.useState(o.Z.find(e=>e.path===p));return(0,x.useEffect)(()=>{let e=e=>{if(!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)){let e=document.getElementById("fullscreen-element"),t=document.getElementById("rivers-header");e&&(e.style.position="unset",e.style.inset="0",e.style.maxWidth="unset",e.style.padding="0",t&&(t.style.display="block"))}};return document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)}},[]),(0,l.jsxs)(a.Z,{sx:{px:"50px",py:2,overflow:"auto",flex:1,borderRadius:"8px",background:"#fff",boxShadow:"0px 0px 2px 0px rgba(145,158,171,0.2), 0px 12px 24px -4px rgba(145,158,171,0.12)",...n},children:[(0,l.jsxs)(a.Z,{direction:"row",justifyContent:"space-between",children:[(0,l.jsx)(d.Z,{children:(0,l.jsx)(u.Z,{sx:{mb:"0px",fontWeight:600,color:i.Z2,fontSize:"20px"},gutterBottom:!0,variant:"subtitle1",component:"div",children:null==g?void 0:g.label})}),(0,l.jsx)(a.Z,{direction:"row",sx:{fontFamily:"Mono"},children:s.i.filter(e=>null==g?void 0:g.tags.includes(e.name)).map(e=>(0,l.jsx)(d.Z,{sx:{height:"24px",lineHeight:"24px",fontSize:"12px",background:"rgba(52,90,255,0.1)",color:"#345AFF",px:1,borderRadius:1,ml:1},children:e.label},e.name))})]}),(0,l.jsxs)(a.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{position:"relative",width:"100%",alignSelf:"stretch",mb:"24px"},children:[(0,l.jsx)(u.Z,{variant:"caption",sx:{display:"inline-block",maxWidth:"100%",pl:"6px",color:"rgba(11,37,98,0.5)",background:"rgba(11,37,98,0.04)",borderRadius:1,lineHeight:"24px"},children:null==g?void 0:g.subTitle}),m?(0,l.jsx)(h.Z,{size:"small",onClick:()=>{let e=document.body;new Promise(t=>{(null==e?void 0:e.requestFullscreen)?t(e.requestFullscreen()):(null==e?void 0:e.mozRequestFullScreen)?t(null==e?void 0:e.mozRequestFullScreen()):(null==e?void 0:e.webkitRequestFullscreen)?t(null==e?void 0:e.webkitRequestFullscreen()):(null==e?void 0:e.msRequestFullscreen)&&t(null==e?void 0:e.msRequestFullscreen())}).then(()=>{let e=document.getElementById("fullscreen-element"),t=document.getElementById("rivers-header");e&&(e.style.position="fixed",e.style.inset="0",e.style.maxWidth="100vw",e.style.background="#fff",e.style.padding="84px 14px 14px 14px",t&&(t.style.display="none"))})},sx:{borderRadius:"4px",height:"24px"},variant:"outlined",startIcon:(0,l.jsx)(c.Z,{}),children:"全屏"}):null]}),(0,l.jsx)(a.Z,{id:"fullscreen-element",sx:{gap:"18px",maxWidth:"1020px",fontFamily:"Mono",mx:"auto",flex:1,width:"100%"},children:t})]})}},72457:function(e,t,n){"use strict";n.r(t);var l=n(85893),i=n(67294),r=n(43197),s=n(86886),o=n(93946),c=n(53754),a=n(25662),d=n(5616),u=n(54599),h=n(3203);t.default=function(){let[e,t]=(0,i.useState)(null),[n,x]=(0,i.useState)(""),[m,p]=(0,i.useState)(55),g=(0,i.useRef)(null),f=(0,i.useRef)(null),v=()=>{if(!e)return;let t=new Image;t.onload=()=>{let e=g.current;if(!e)return;let n=e.getContext("2d");e.width=t.width,e.height=t.height,n&&(n.clearRect(0,0,e.width,e.height),n.beginPath(),n.moveTo(m,0),n.lineTo(e.width-m,0),n.quadraticCurveTo(e.width,0,e.width,m),n.lineTo(e.width,e.height-m),n.quadraticCurveTo(e.width,e.height,e.width-m,e.height),n.lineTo(m,e.height),n.quadraticCurveTo(0,e.height,0,e.height-m),n.lineTo(0,m),n.quadraticCurveTo(0,0,m,0),n.closePath(),n.clip(),n.drawImage(t,0,0),x(e.toDataURL()))},t.src=URL.createObjectURL(e)};return(0,i.useEffect)(()=>{v()},[m,e]),(0,l.jsx)(r.Z,{children:(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(s.ZP,{container:!0,spacing:2,alignItems:"center",justifyContent:"center",children:[(0,l.jsxs)(s.ZP,{item:!0,xs:1,container:!0,justifyContent:"center",alignItems:"center",children:[(0,l.jsx)("input",{accept:"image/*",type:"file",hidden:!0,onChange:e=>{e.preventDefault(),e.target.files&&e.target.files[0]&&t(e.target.files[0])},ref:f}),(0,l.jsx)(o.Z,{color:"primary","aria-label":"upload picture",component:"span",onClick:()=>{var e;return null===(e=f.current)||void 0===e?void 0:e.click()},children:(0,l.jsx)(u.Z,{})})]}),(0,l.jsx)(s.ZP,{item:!0,xs:9,container:!0,justifyContent:"center",alignItems:"center",children:(0,l.jsx)(c.ZP,{value:m,onChange:(e,t)=>p(t),min:0,max:300})}),(0,l.jsx)(s.ZP,{item:!0,xs:2,container:!0,justifyContent:"center",alignItems:"center",children:(0,l.jsx)(a.Z,{onClick:()=>{let e=document.createElement("a");e.download="rounded-image.png",e.href=n,e.click()},children:"Download"})})]}),(0,l.jsxs)(d.Z,{sx:{display:"flex",justifyContent:"center",alignItems:"center",maxHeight:"73vh",overflow:"auto"},children:[n&&(0,l.jsx)(h.Z,{src:n}),(0,l.jsx)("canvas",{ref:g,style:{display:"none"}})]})]})})}}},function(e){e.O(0,[8683,3754,9774,2888,179],function(){return e(e.s=40388)}),_N_E=e.O()}]);