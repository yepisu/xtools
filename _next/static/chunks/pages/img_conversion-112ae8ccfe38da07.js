(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8594],{55343:function(e,t,n){"use strict";var i=n(64836);t.Z=void 0;var l=i(n(64938)),r=n(85893),o=(0,l.default)((0,r.jsx)("path",{d:"M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"}),"Fullscreen");t.Z=o},35097:function(e,t,n){"use strict";n.d(t,{V:function(){return r}});var i=n(1588),l=n(34867);function r(e){return(0,l.Z)("MuiDivider",e)}let o=(0,i.Z)("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);t.Z=o},23599:function(e,t,n){"use strict";n.d(t,{Z:function(){return z}});var i=n(63366),l=n(87462),r=n(67294),o=n(90512),a=n(94780),s=n(41796),d=n(90948),c=n(71657),u=n(59773),p=n(49990),m=n(58974),x=n(51705),v=n(35097),h=n(1588);let g=(0,h.Z)("MuiListItemIcon",["root","alignItemsFlexStart"]),f=(0,h.Z)("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]);var b=n(34867);function y(e){return(0,b.Z)("MuiMenuItem",e)}let Z=(0,h.Z)("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]);var w=n(85893);let j=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],C=e=>{let{disabled:t,dense:n,divider:i,disableGutters:r,selected:o,classes:s}=e,d=(0,a.Z)({root:["root",n&&"dense",t&&"disabled",!r&&"gutters",i&&"divider",o&&"selected"]},y,s);return(0,l.Z)({},s,d)},k=(0,d.ZP)(p.Z,{shouldForwardProp:e=>(0,d.FO)(e)||"classes"===e,name:"MuiMenuItem",slot:"Root",overridesResolver:(e,t)=>{let{ownerState:n}=e;return[t.root,n.dense&&t.dense,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(({theme:e,ownerState:t})=>(0,l.Z)({},e.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!t.disableGutters&&{paddingLeft:16,paddingRight:16},t.divider&&{borderBottom:`1px solid ${(e.vars||e).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(e.vars||e).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${Z.selected}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,s.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity),[`&.${Z.focusVisible}`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.focusOpacity}))`:(0,s.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.focusOpacity)}},[`&.${Z.selected}:hover`]:{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / calc(${e.vars.palette.action.selectedOpacity} + ${e.vars.palette.action.hoverOpacity}))`:(0,s.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity+e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:e.vars?`rgba(${e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.selectedOpacity})`:(0,s.Fq)(e.palette.primary.main,e.palette.action.selectedOpacity)}},[`&.${Z.focusVisible}`]:{backgroundColor:(e.vars||e).palette.action.focus},[`&.${Z.disabled}`]:{opacity:(e.vars||e).palette.action.disabledOpacity},[`& + .${v.Z.root}`]:{marginTop:e.spacing(1),marginBottom:e.spacing(1)},[`& + .${v.Z.inset}`]:{marginLeft:52},[`& .${f.root}`]:{marginTop:0,marginBottom:0},[`& .${f.inset}`]:{paddingLeft:36},[`& .${g.root}`]:{minWidth:36}},!t.dense&&{[e.breakpoints.up("sm")]:{minHeight:"auto"}},t.dense&&(0,l.Z)({minHeight:32,paddingTop:4,paddingBottom:4},e.typography.body2,{[`& .${g.root} svg`]:{fontSize:"1.25rem"}})));var z=r.forwardRef(function(e,t){let n;let a=(0,c.Z)({props:e,name:"MuiMenuItem"}),{autoFocus:s=!1,component:d="li",dense:p=!1,divider:v=!1,disableGutters:h=!1,focusVisibleClassName:g,role:f="menuitem",tabIndex:b,className:y}=a,Z=(0,i.Z)(a,j),z=r.useContext(u.Z),I=r.useMemo(()=>({dense:p||z.dense||!1,disableGutters:h}),[z.dense,p,h]),M=r.useRef(null);(0,m.Z)(()=>{s&&M.current&&M.current.focus()},[s]);let E=(0,l.Z)({},a,{dense:I.dense,divider:v,disableGutters:h}),F=C(a),S=(0,x.Z)(M,t);return a.disabled||(n=void 0!==b?b:-1),(0,w.jsx)(u.Z.Provider,{value:I,children:(0,w.jsx)(k,(0,l.Z)({ref:S,role:f,tabIndex:n,component:d,focusVisibleClassName:(0,o.Z)(F.focusVisible,g),className:(0,o.Z)(F.root,y)},Z,{ownerState:E,classes:F}))})})},5754:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/img_conversion",function(){return n(20704)}])},31831:function(e,t,n){"use strict";var i=n(85893),l=n(67294),r=n(95982),o=n(13029),a=n(46901),s=n(20745),d=n(2734);let c=l.forwardRef(function(e,t){return(0,i.jsx)(a.Z,{elevation:6,ref:t,variant:"filled",...e})});function u(e){var t;let n=(0,d.Z)(),[a,s]=(0,l.useState)(!0);return(0,l.useEffect)(()=>{setTimeout(()=>{s(!1)},2e3)},[]),(0,i.jsx)(o.Z,{anchorOrigin:{vertical:"top",horizontal:"center"},open:a,sx:{zIndex:n.zIndex.snackbar+100},children:(0,i.jsx)(c,{sx:{borderRadius:"0","&.MuiAlert-filledSuccess":{backgroundColor:r.T$}},icon:!1,color:null==e?void 0:e.color,children:null!==(t=null==e?void 0:e.content)&&void 0!==t?t:""})},"top-center-warning")}function p(e){let t=document.createElement("div");document.body.appendChild(t),t.id="warning-window",t.style.zIndex="-2",(0,s.createRoot)(t).render((0,i.jsx)(u,{...e})),setTimeout(()=>{t.remove()},3e3)}t.Z={success:e=>p({color:"success",content:e}),warning:e=>p({color:"warning",content:e}),error:e=>p({color:"error",content:e})}},43197:function(e,t,n){"use strict";var i=n(85893),l=n(70671),r=n(88613),o=n(47023),a=n(37375),s=n(55343),d=n(51233),c=n(5616),u=n(15861),p=n(25662),m=n(67294);t.Z=e=>{let{children:t,sx:n,fullScreen:x=!0}=e,{path:v}=(0,r.hI)(),[h]=m.useState(a.Z.find(e=>e.path===v));return(0,m.useEffect)(()=>{let e=e=>{if(!(document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement)){let e=document.getElementById("fullscreen-element"),t=document.getElementById("rivers-header");e&&(e.style.position="unset",e.style.inset="0",e.style.maxWidth="unset",e.style.padding="0",t&&(t.style.display="block"))}};return document.addEventListener("fullscreenchange",e),document.addEventListener("webkitfullscreenchange",e),document.addEventListener("mozfullscreenchange",e),document.addEventListener("MSFullscreenChange",e),()=>{document.removeEventListener("fullscreenchange",e),document.removeEventListener("webkitfullscreenchange",e),document.removeEventListener("mozfullscreenchange",e),document.removeEventListener("MSFullscreenChange",e)}},[]),(0,i.jsxs)(d.Z,{sx:{px:"50px",py:2,overflow:"auto",flex:1,borderRadius:"8px",background:"#fff",boxShadow:"0px 0px 2px 0px rgba(145,158,171,0.2), 0px 12px 24px -4px rgba(145,158,171,0.12)",...n},children:[(0,i.jsxs)(d.Z,{direction:"row",justifyContent:"space-between",children:[(0,i.jsx)(c.Z,{children:(0,i.jsx)(u.Z,{sx:{mb:"0px",fontWeight:600,color:l.Z2,fontSize:"20px"},gutterBottom:!0,variant:"subtitle1",component:"div",children:null==h?void 0:h.label})}),(0,i.jsx)(d.Z,{direction:"row",sx:{fontFamily:"Mono"},children:o.i.filter(e=>null==h?void 0:h.tags.includes(e.name)).map(e=>(0,i.jsx)(c.Z,{sx:{height:"24px",lineHeight:"24px",fontSize:"12px",background:"rgba(52,90,255,0.1)",color:"#345AFF",px:1,borderRadius:1,ml:1},children:e.label},e.name))})]}),(0,i.jsxs)(d.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{position:"relative",width:"100%",alignSelf:"stretch",mb:"24px"},children:[(0,i.jsx)(u.Z,{variant:"caption",sx:{display:"inline-block",maxWidth:"100%",pl:"6px",color:"rgba(11,37,98,0.5)",background:"rgba(11,37,98,0.04)",borderRadius:1,lineHeight:"24px"},children:null==h?void 0:h.subTitle}),x?(0,i.jsx)(p.Z,{size:"small",onClick:()=>{let e=document.body;new Promise(t=>{(null==e?void 0:e.requestFullscreen)?t(e.requestFullscreen()):(null==e?void 0:e.mozRequestFullScreen)?t(null==e?void 0:e.mozRequestFullScreen()):(null==e?void 0:e.webkitRequestFullscreen)?t(null==e?void 0:e.webkitRequestFullscreen()):(null==e?void 0:e.msRequestFullscreen)&&t(null==e?void 0:e.msRequestFullscreen())}).then(()=>{let e=document.getElementById("fullscreen-element"),t=document.getElementById("rivers-header");e&&(e.style.position="fixed",e.style.inset="0",e.style.maxWidth="100vw",e.style.background="#fff",e.style.padding="84px 14px 14px 14px",t&&(t.style.display="none"))})},sx:{borderRadius:"4px",height:"24px"},variant:"outlined",startIcon:(0,i.jsx)(s.Z,{}),children:"全屏"}):null]}),(0,i.jsx)(d.Z,{id:"fullscreen-element",sx:{gap:"18px",maxWidth:"1020px",fontFamily:"Mono",mx:"auto",flex:1,width:"100%"},children:t})]})}},20704:function(e,t,n){"use strict";n.r(t);var i=n(85893),l=n(31831),r=n(43197),o=n(21990),a=n(5616),s=n(73575),d=n(23599),c=n(51233),u=n(25662),p=n(59268),m=n(67294);let x=[{label:"JPG",value:"image/jpeg",suffix:"jpeg"},{label:"PNG",value:"image/png",suffix:"png"},{label:"GIF",value:"image/gif",suffix:"gif"},{label:"WEBP",value:"image/webp",suffix:"webp"},{label:"BMP",value:"image/bmp",suffix:"bmp"},{label:"ICO",value:"image/x-icon",suffix:"ico"}];t.default=()=>{let[e,t]=(0,m.useState)([]),[n,v]=(0,m.useState)(!1),[h,g]=(0,m.useState)(""),f=e=>{if(0===e)return"0 B";{let t=Math.floor(Math.log10(e)/Math.log10(1024));return"".concat((e/Math.pow(1024,t)).toFixed(2)," ").concat(["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t])}},b=(n,i)=>{g(""),t(e.map(e=>e.id===i?{...e,url:"",loading:!1,conversion:n}:e))},y=[{title:"文件名",dataIndex:"file",key:"file",render:e=>(0,i.jsx)(a.Z,{children:e.name})},{title:"图片大小",dataIndex:"size",key:"size",width:150,render:e=>(0,i.jsx)(a.Z,{children:f(e)})},{title:"转换",dataIndex:"conversion",key:"conversion",width:200,render:(e,t)=>(0,i.jsx)(a.Z,{children:(0,i.jsx)(s.Z,{size:"small",displayEmpty:!0,sx:{width:"150px",height:"30px",fontSize:"14px"},value:e,MenuProps:{sx:{maxHeight:"500px"}},renderValue:e=>{var t;return e?null===(t=x.filter(t=>t.value===e)[0])||void 0===t?void 0:t.label:(0,i.jsx)(a.Z,{sx:{color:"#999"},children:"选择转换类型"})},onChange:e=>b(e.target.value,t.id),children:x.map(e=>(0,i.jsx)(d.Z,{value:e.value,children:e.label},e.value))})})},{title:"操作",dataIndex:"setting",key:"setting",width:150,render:(r,o)=>(0,i.jsxs)(c.Z,{direction:"row",children:[(0,i.jsx)(u.Z,{size:"small",color:"primary",sx:{borderRadius:"4px",minWidth:"auto"},disabled:n||o.loading||!o.conversion,onClick:()=>w(o.id),children:"转换"}),(0,i.jsx)(u.Z,{size:"small",color:"primary",disabled:n||o.loading||!o.url,sx:{borderRadius:"4px",minWidth:"auto"},onClick:()=>Z(o.url,o.file.name.split(".")[0]+"."+x.find(e=>e.value===o.conversion).suffix),children:"下载"}),(0,i.jsx)(u.Z,{size:"small",color:"error",disabled:n||o.loading,sx:{borderRadius:"4px",minWidth:"auto"},onClick:()=>{t(e.filter(e=>e.id!==o.id)),l.Z.success("移除成功")},children:"移除"})]})}],Z=(e,t)=>{let n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)},w=async n=>{v(!0);let i=await (0,o.bp)(e.find(e=>e.id===n).file,e.find(e=>e.id===n).conversion);t(e.map(e=>e.id===n?{...e,url:i,loading:!1}:e)),v(!1),l.Z.success("转换成功")};return(0,i.jsx)(r.Z,{children:(0,i.jsxs)(a.Z,{sx:{".rc-table":{border:"1px solid #eee",borderRadius:"4px"},".rc-table table":{width:"100%",borderCollapse:"collapse"},".rc-table-thead .rc-table-cell":{textAlign:"left",paddingLeft:"24px",backgroundColor:"#eee",fontSize:"12px",height:"28px",fontWeight:500,fontFamily:"Mono"},".rc-table-tbody .rc-table-row":{borderBottom:"1px solid #eee"},".rc-table-tbody .rc-table-cell":{paddingLeft:"24px",fontSize:"14px",paddingTop:"12px",paddingBottom:"12px",fontFamily:"Mono"}},children:[(0,i.jsxs)(c.Z,{direction:"row",alignItems:"center",justifyContent:"space-between",sx:{mb:2},children:[(0,i.jsxs)(c.Z,{direction:"row",alignItems:"center",spacing:2,children:[(0,i.jsx)(u.Z,{sx:{borderRadius:"4px"},size:"small",variant:"outlined",onClick:()=>{let e=document.getElementById("fileInput");null==e||e.click()},children:"上传图片"}),(0,i.jsxs)(a.Z,{sx:{color:"#999",fontSize:"12px"},children:["已上传 ",e.length," 张图片"]})]}),(0,i.jsx)(s.Z,{size:"small",displayEmpty:!0,sx:{width:"150px",height:"30px",fontSize:"14px"},value:h,MenuProps:{sx:{maxHeight:"500px"}},renderValue:e=>{var t;return e?null===(t=x.filter(t=>t.value===e)[0])||void 0===t?void 0:t.label:(0,i.jsx)(a.Z,{sx:{color:"#999"},children:"全部切换类型"})},onChange:n=>{g(n.target.value),t(e.map(e=>({...e,loading:!1,url:"",conversion:n.target.value})))},children:x.map(e=>(0,i.jsx)(d.Z,{value:e.value,children:e.label},e.value))})]}),(0,i.jsx)(a.Z,{component:"input",id:"fileInput",multiple:!0,type:"file",accept:"image/*",style:{display:"none"},onChange:n=>{t([...e,...[...n.target.files].map(e=>({id:1e9*Math.random()|0,file:e,type:e.type,size:e.size,conversion:"",url:"",loading:!1}))])}}),(0,i.jsx)(p.ZP,{columns:y,data:e,rowKey:"id",emptyText:(0,i.jsx)(a.Z,{sx:{textAlign:"center",color:"#999",fontSize:"12px"},children:"暂无数据"})}),(0,i.jsx)(u.Z,{sx:{mt:2,borderRadius:"4px",width:"100%"},variant:"outlined",onClick:()=>{0===e.length?l.Z.warning("请先上传文件"):e.every(e=>!!e.conversion)?(v(!0),Promise.all(e.map(e=>(0,o.bp)(e.file,e.conversion))).then(n=>{t(e.map((e,t)=>({...e,url:n[t],loading:!1}))),v(!1),l.Z.success("转换成功")}).catch(()=>{v(!1),l.Z.error("转换失败")})):l.Z.warning("请先选择转换类型")},disabled:n,children:"开始转换"})]})})}}},function(e){e.O(0,[9268,9774,2888,179],function(){return e(e.s=5754)}),_N_E=e.O()}]);